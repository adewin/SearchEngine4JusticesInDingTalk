{"code":"!function(t){var e={};function a(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&\"object\"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,\"a\",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p=\"/\",a(a.s=2)}([function(t,e){t.exports=self.AFAppX},function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.collectionList=e.collection=e.recommendList=e.law=e.protocol=e.judgement=e.mediateCase=e.list=e.searchHotWord=e.recommend=e.tipsEN=e.tipsCN=e.userInfo=e.login=void 0;var n=a(0),o=(n.bridge,n.bridge,\"http://192.168.22.137:8686\"),i=\"/dingTalk/user/login\",s=\"/dingTalk/suggest/hanZi\",l=\"/dingTalk/suggest/pinYin\",c=\"/dingTalk/user/recommend\",r=\"/dingTalk/mediate/searchHotWord\",d=\"/dingTalk/mediate/list\",u=\"/dingTalk/detail/mediateCase\",g=\"/dingTalk/detail/judgement\",h=\"/dingTalk/detail/protocol\",p=\"/dingTalk/detail/law\",f=\"/dingTalk/mediate/recommendList\",m=\"/dingTalk/user/userInfo\",y=\"/dingTalk/user/collection\",w=\"/dingTalk/user/collectionList\";e.login=function(t){return new Promise(function(e,a){dd.httpRequest({url:o+i,method:\"GET\",data:{authCode:t},dataType:\"json\",success:function(t){e(t)},fail:function(t){a(t)}})})},e.userInfo=function(){return new Promise(function(t,e){dd.httpRequest({url:o+m,method:\"GET\",data:{},dataType:\"json\",success:function(e){t(e)},fail:function(t){e(t)}})})},e.tipsCN=function(t){return new Promise(function(e,a){dd.httpRequest({url:o+s,method:\"GET\",data:{prefix:t},dataType:\"json\",success:function(t){e(t)},fail:function(t){a(t)}})})},e.tipsEN=function(t){return new Promise(function(e,a){dd.httpRequest({url:o+l,method:\"GET\",data:{prefix:t},dataType:\"json\",success:function(t){e(t)},fail:function(t){a(t)}})})},e.recommend=function(){return new Promise(function(t,e){dd.httpRequest({url:o+c,method:\"GET\",dataType:\"json\",success:function(e){t(e)},fail:function(t){e(t)}})})},e.searchHotWord=function(){return new Promise(function(t,e){dd.httpRequest({url:o+r,method:\"GET\",dataType:\"json\",success:function(e){t(e)},fail:function(t){e(t)}})})},e.list=function(t){return new Promise(function(e,a){dd.httpRequest({url:o+d,method:\"POST\",data:t,dataType:\"json\",success:function(t){e(t)},fail:function(t){a(t)}})})},e.mediateCase=function(t){return new Promise(function(e,a){dd.httpRequest({url:o+u,method:\"GET\",data:{id:t},dataType:\"json\",success:function(t){e(t)},fail:function(t){a(t)}})})},e.judgement=function(t){return new Promise(function(e,a){dd.httpRequest({url:o+g,method:\"GET\",data:{id:t},dataType:\"json\",success:function(t){e(t)},fail:function(t){a(t)}})})},e.protocol=function(t){return new Promise(function(e,a){dd.httpRequest({url:o+h,method:\"GET\",data:{id:t},dataType:\"json\",success:function(t){e(t)},fail:function(t){a(t)}})})},e.law=function(t){return new Promise(function(e,a){dd.httpRequest({url:o+p,method:\"GET\",data:{id:t},dataType:\"json\",success:function(t){e(t)},fail:function(t){a(t)}})})},e.recommendList=function(t){return new Promise(function(e,a){dd.httpRequest({url:o+f,method:\"GET\",data:t,dataType:\"json\",success:function(t){e(t)},fail:function(t){a(t)}})})},e.collection=function(t){return new Promise(function(e,a){dd.httpRequest({url:o+y,method:\"POST\",headers:{\"Content-Type\":\"application/json\"},data:t,dataType:\"json\",success:function(t){e(t)},fail:function(t){a(t)}})})},e.collectionList=function(){return new Promise(function(t,e){dd.httpRequest({url:o+w,method:\"GET\",data:{},dataType:\"json\",success:function(e){t(e)},fail:function(t){e(t)}})})}},function(t,e,a){t.exports=a(3)},function(t,e,a){\"use strict\";function n(){a(7),a(8),a(9),a(10),a(11),a(12),a(13),a(14),a(15),a(16),a(17)}a(4),a(6),self.bootstrapApp?self.bootstrapApp({success:n}):n()},function(t,e,a){\"use strict\";(function(t){var e=\"undefined\"!==typeof t?t:self;e.appXRuntimeConfig={},e.appXAppJson={app:{$homepage:\"page/index/index\"}}}).call(this,a(5))},function(t,e){var a;a=function(){return this}();try{a=a||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"===typeof window&&(a=window)}t.exports=a},function(t,e,a){\"use strict\";importScripts(\"https://appx/af-appx.worker.min.js\")},function(t,e,a){\"use strict\";var n=a(0);n.bridge,n.bridge;(0,n.App)({onLaunch:function(t){this.globalData.corpId=t.query.corpId},onShow:function(){},onHide:function(){},onError:function(){},globalData:{corpId:\"\"}})},function(t,e,a){\"use strict\";var n=a(0),o=(n.bridge,n.bridge,n.WorkerComponent||function(){});n.$global.currentComponentConfig={is:\"/components/personal/personal\",usingComponents:{}},o({data:{hide:!1,animationInfo:\"\"},methods:{changeUrl:function(t){console.log(\"\\u77ed\\u6309\"),1==this.data.hide&&(this.animation.translate(0,0).opacity(1).step({duration:500}),this.animation.rotateY(0).step({duration:500}),this.setData({animationInfo:this.animation.export(),hide:!1}))},forFun:function(t){var e=this;console.log(\"\\u957f\\u6309\"),0==this.data.hide&&dd.confirm({title:\"\\u6e29\\u99a8\\u63d0\\u793a\",content:\"\\u662f\\u5426\\u60f3\\u8981\\u9690\\u85cf\\u5c0f\\u56fe\\u6807\",confirmButtonText:\"\\u9a6c\\u4e0a\\u9690\\u85cf\",cancelButtonText:\"\\u6682\\u4e0d\\u9700\\u8981\",success:function(t){if(console.log(t),1==t.confirm){var a=dd.createAnimation({duration:800,timingFunction:\"ease-in-out\"});e.animation=a,a.rotateY(1080).step(),a.translate(\"78rpx\",0).opacity(.7).step({duration:500}),e.setData({animationInfo:a.export(),hide:!0})}}})}}})},function(t,e,a){\"use strict\";var n=a(0);n.bridge,n.bridge;n.$global.currentPageConfig={pagePath:\"page/index/index\",usingComponents:{}};var o=(0,n.getApp)(),i=a(1),s=i.login,l=i.recommend,c={mediateCase:\"\\u6848\\u4f8b\",protocol:\"\\u534f\\u8bae\",judgement:\"\\u6587\\u4e66\",law:\"\\u6cd5\\u5f8b\"},r={mediateCase:\"types blue\",protocol:\"types orange\",judgement:\"types red\",law:\"types green\"},d={mediateCase:\"/page/detailCase/detailCase\",protocol:\"/page/detailProtocol/detailProtocol\",judgement:\"/page/detailDocument/detailDocument\",law:\"/page/detailLaw/detailLaw\"},u={\"\\u6848\\u4f8b\":\"mediateCase\",\"\\u534f\\u8bae\":\"protocol\",\"\\u6587\\u4e66\":\"judgement\",\"\\u6cd5\\u5f8b\":\"law\"};(0,n.Page)({data:{corpId:\"\",hotList:[],newList:[],showWhich:\"hot\",showList:[]},onLoad:function(){this.setData({corpId:o.globalData.corpId}),this.init()},init:function(){var t=this;dd.showLoading({content:\"\\u52a0\\u8f7d\\u4e2d\"}),dd.getAuthCode({success:function(e){s(e.authCode).then(function(e){console.log(e),1===e.data.code&&l().then(function(e){if(1===e.data.code){var a=e.data.data,n=a.hotList.map(function(t){var e=t.queryType;return t.queryType=c[e],t.class=r[e],t}),o=a.newList.map(function(t){var e=t.queryType;return t.queryType=c[e],t.class=r[e],t});t.setData({hotList:n,newList:o,showList:n}),console.log(n)}dd.hideLoading()}).catch(function(t){console.log(t),dd.showToast({type:\"fail\",content:\"\\u7cfb\\u7edf\\u9519\\u8bef\",duration:3e3})})}).catch(function(t){console.log(t),dd.showToast({type:\"fail\",content:\"\\u767b\\u5f55\\u5931\\u8d25\",duration:3e3})})},fail:function(t){dd.alert({content:JSON.stringify(t)})}})},changeRouter:function(t){dd.navigateTo({url:t.target.dataset.url})},goDetail:function(t){console.log(t),dd.navigateTo({url:d[u[t.target.dataset.types]]+\"?id=\"+t.target.dataset.ids})},changeShow:function(t){\"hot\"===t.target.dataset.which?this.setData({showWhich:t.target.dataset.which,showList:this.data.hotList}):this.setData({showWhich:t.target.dataset.which,showList:this.data.newList})}})},function(t,e,a){\"use strict\";var n=a(0);n.bridge,n.bridge;n.$global.currentPageConfig={pagePath:\"page/myself/myself\",usingComponents:{}};(0,n.getApp)();var o=a(1).userInfo;(0,n.Page)({data:{personInfo:{username:\"\",mobile:\"\",avatar:\"/common/image/head.png\",likeCount:0}},onLoad:function(){var t=this;o().then(function(e){if(console.log(e),1===e.data.code){var a=e.data.data,n=a.username,o=a.mobile,i=a.avatar,s=a.likeCount;i||(i=\"/common/image/head.png\"),t.setData({personInfo:{username:n,mobile:o,avatar:i,likeCount:s}})}else dd.showToast({type:\"fail\",content:\"\\u7cfb\\u7edf\\u9519\\u8bef\",duration:3e3})}).catch(function(t){console.log(t)})},changeRouter:function(t){dd.navigateTo({url:t.target.dataset.url})},goBack:function(){dd.navigateBack(1)}})},function(t,e,a){\"use strict\";var n=a(0);n.bridge,n.bridge;n.$global.currentPageConfig={pagePath:\"page/detailCase/detailCase\",usingComponents:{personal:\"/components/personal/personal\"}};(0,n.getApp)();var o=a(1),i=o.mediateCase,s=o.recommendList,l=o.collection,c={mediateCase:\"/page/detailCase/detailCase\",protocol:\"/page/detailProtocol/detailProtocol\",judgement:\"/page/detailDocument/detailDocument\",law:\"/page/detailLaw/detailLaw\"};(0,n.Page)({data:{mediateCase:{title:\"\",keyword:[]},protocol:{title:\"\",keyword:[]},judgement:{title:\"\",keyword:[]},lawArr:[],id:\"\",caseDetail:{smallClassId:\"\",smallClass:\"\",refereeDept:\"\",transactDate:\"\",collectFlag:0,likeFlag:0,keyword:[],refereed:\"\",title:\"\",mediateCircs:\"\",mediateComment:\"\",mediateCont:\"\",mediateExplain:\"\"},mediateCircsFlag:!1,mediateCommentFlag:!1,mediateCont:!1,mediateExplain:!1},onLoad:function(t){dd.showLoading({content:\"\\u52a0\\u8f7d\\u4e2d\"}),this.setData({id:t.id}),this.getDetail(t.id),this.getRecommendList(t.id)},getDetail:function(t){var e=this;i(t).then(function(t){if(console.log(t),1===t.data.code){var a=!1,n=!1,o=!1,i=!1,s=t.data.data,l=s.smallClass,c=s.smallClassId,r=s.refereeDept,d=s.transactDate,u=s.collectFlag,g=s.likeFlag,h=s.keyword,p=s.refereed,f=s.title,m=s.mediateCircs,y=s.mediateComment,w=s.mediateCont,D=s.mediateExplain;r=e.changeNull(r),p=e.changeNull(p),h=e.changeLine(h),m.length>99&&(a=!0),y.length>99&&(n=!0),w.length>99&&(o=!0),D.length>99&&(i=!0),m=e.changeEnter(m),y=e.changeEnter(y),w=e.changeEnter(w),D=e.changeEnter(D),e.setData({caseDetail:{smallClassId:c,smallClass:l,refereeDept:r,transactDate:d,collectFlag:u,likeFlag:g,keyword:h,refereed:p,title:f,mediateCircs:m,mediateComment:y,mediateCont:w,mediateExplain:D},mediateCircsFlag:a,mediateCommentFlag:n,mediateContFlag:o,mediateExplainFlag:i})}else dd.showToast({type:\"fail\",content:\"\\u7cfb\\u7edf\\u9519\\u8bef\",duration:3e3});dd.hideLoading()}).catch(function(t){console.log(t)})},getRecommendList:function(t){var e=this;s({id:t,detailType:\"mediateCase\"}).then(function(t){console.log(t);var a=t.data.data;t.data.data.law.map(function(t){t.content=e.changeEnter(t.content),t.show=!1}),a.mediateCase[0].keyword=e.changeLine(a.mediateCase[0].keyword),a.protocol[0].keyword=e.changeLine(a.protocol[0].keyword),a.judgement[0].keyword=e.changeLine(a.judgement[0].keyword),e.setData({mediateCase:a.mediateCase[0],protocol:a.protocol[0],judgement:a.judgement[0],lawArr:a.law}),console.log(e.data.mediateCase)})},changeNull:function(t){return t||\"\\u6682\\u65e0\\u4fe1\\u606f\"},changeEnter:function(t){return t.split(\"\\\\n\")},changeLine:function(t){return t.split(\"|\")},showAll:function(t){var e=t.target.dataset.val;\"mediateCircsFlag\"===e?this.setData({mediateCircsFlag:!1}):\"mediateCommentFlag\"===e?this.setData({mediateCommentFlag:!1}):\"mediateContFlag\"===e?this.setData({mediateContFlag:!1}):\"mediateExplainFlag\"===e&&this.setData({mediateExplainFlag:!1})},showLaw:function(t){var e=this.data.lawArr,a=0;e.map(function(t){return{id:t.id}}).forEach(function(e,n){e.id===t.target.dataset.id&&(a=n)}),e[a].show=!e[a].show,this.setData({lawArr:e})},goDetail:function(t){console.log(t),dd.navigateTo({url:c[t.target.dataset.types]+\"?id=\"+t.target.dataset.ids})},collect:function(t){console.log(t);var e=this,a=e.data.caseDetail,n=[{id:this.data.id,isuse:t.target.dataset.val,subtype:this.data.caseDetail.smallClassId,title:this.data.caseDetail.title,detailType:\"mediateCase\"}];console.log(n),l(n).then(function(n){console.log(n),1===n.data.code?\"Y\"===t.target.dataset.val?(a.likeFlag=1,e.setData({caseDetail:a})):(a.collectFlag=1,e.setData({caseDetail:a})):6===n.data.code&&(\"Y\"===t.target.dataset.val?(a.likeFlag=0,e.setData({caseDetail:a})):(a.collectFlag=0,e.setData({caseDetail:a})))})}})},function(t,e,a){\"use strict\";var n=a(0);n.bridge,n.bridge;n.$global.currentPageConfig={pagePath:\"page/detailProtocol/detailProtocol\",usingComponents:{personal:\"/components/personal/personal\"}};(0,n.getApp)();var o=a(1),i=o.protocol,s=o.recommendList,l=o.collection,c={mediateCase:\"/page/detailCase/detailCase\",protocol:\"/page/detailProtocol/detailProtocol\",judgement:\"/page/detailDocument/detailDocument\",law:\"/page/detailLaw/detailLaw\"};(0,n.Page)({data:{mediateCase:{title:\"\",keyword:[]},protocol:{title:\"\",keyword:[]},judgement:{title:\"\",keyword:[]},lawArr:[],id:\"\",proDetail:{title:\"\",smallClass:\"\",smallClassId:\"\",dateaccepted:\"\",refereeDept:\"\",refereeName:\"\",agreementAmount:0,keyword:[],collectFlag:0,likeFlag:0,dealAgreement:\"\",dealDispute:\"\",items:\"\"},dealAgreementFlag:!1,dealDisputeFlag:!1,itemsFlag:!1},onLoad:function(t){dd.showLoading({content:\"\\u52a0\\u8f7d\\u4e2d\"}),this.setData({id:t.id}),this.getDetail(t.id),this.getRecommendList(t.id)},getDetail:function(t){var e=this;i(t).then(function(t){if(console.log(t),1===t.data.code){var a=!1,n=!1,o=!1,i=t.data.data,s=i.title,l=i.smallClass,c=i.smallClassId,r=i.dateaccepted,d=i.refereeDept,u=i.refereeName,g=i.agreementAmount,h=i.keyword,p=i.collectFlag,f=i.likeFlag,m=i.dealAgreement,y=i.dealDispute,w=i.items;d=e.changeNull(d),u=e.changeNull(u),h=e.changeLine(h),m.length>99&&(a=!0),y.length>99&&(n=!0),w.length>99&&(o=!0),m=e.changeNull(m),y=e.changeNull(y),w=e.changeNull(w),m=e.changeEnter(m),y=e.changeEnter(y),w=e.changeEnter(w),e.setData({proDetail:{title:s,smallClass:l,smallClassId:c,dateaccepted:r,refereeDept:d,refereeName:u,agreementAmount:g,keyword:h,collectFlag:p,likeFlag:f,dealAgreement:m,dealDispute:y,items:w},dealAgreementFlag:a,dealDisputeFlag:n,itemsFlag:o})}else dd.showToast({type:\"fail\",content:\"\\u7cfb\\u7edf\\u9519\\u8bef\",duration:3e3});dd.hideLoading()}).catch(function(t){console.log(t)})},getRecommendList:function(t){var e=this;s({id:t,detailType:\"protocol\"}).then(function(t){console.log(t);var a=t.data.data;t.data.data.law.map(function(t){t.content=e.changeEnter(t.content),t.show=!1}),a.mediateCase[0].keyword=e.changeLine(a.mediateCase[0].keyword),a.protocol[0].keyword=e.changeLine(a.protocol[0].keyword),a.judgement[0].keyword=e.changeLine(a.judgement[0].keyword),e.setData({mediateCase:a.mediateCase[0],protocol:a.protocol[0],judgement:a.judgement[0],lawArr:a.law}),console.log(e.data.mediateCase)})},changeNull:function(t){return t||\"\\u6682\\u65e0\\u4fe1\\u606f\"},changeEnter:function(t){return t.split(\"\\\\n\")},changeLine:function(t){return t.split(\"|\")},showAll:function(t){var e=t.target.dataset.val;\"dealAgreementFlag\"===e?this.setData({dealAgreementFlag:!1}):\"dealDisputeFlag\"===e?this.setData({dealDisputeFlag:!1}):\"itemsFlag\"===e&&this.setData({itemsFlag:!1})},showLaw:function(t){var e=this.data.lawArr,a=0;e.map(function(t){return{id:t.id}}).forEach(function(e,n){e.id===t.target.dataset.id&&(a=n)}),e[a].show=!e[a].show,this.setData({lawArr:e})},goDetail:function(t){console.log(t),dd.navigateTo({url:c[t.target.dataset.types]+\"?id=\"+t.target.dataset.ids})},collect:function(t){console.log(t);var e=this,a=e.data.proDetail,n=[{id:this.data.id,isuse:t.target.dataset.val,subtype:this.data.proDetail.smallClassId,title:this.data.proDetail.title,detailType:\"protocol\"}];l(n).then(function(n){console.log(n),1===n.data.code?\"Y\"===t.target.dataset.val?(a.likeFlag=1,e.setData({proDetail:a})):(a.collectFlag=1,e.setData({proDetail:a})):6===n.data.code&&(\"Y\"===t.target.dataset.val?(a.likeFlag=0,e.setData({proDetail:a})):(a.collectFlag=0,e.setData({proDetail:a})))})}})},function(t,e,a){\"use strict\";var n=a(0);n.bridge,n.bridge;n.$global.currentPageConfig={pagePath:\"page/detailDocument/detailDocument\",usingComponents:{personal:\"/components/personal/personal\"}};(0,n.getApp)();var o=a(1),i=o.judgement,s=o.recommendList,l=o.collection,c={mediateCase:\"/page/detailCase/detailCase\",protocol:\"/page/detailProtocol/detailProtocol\",judgement:\"/page/detailDocument/detailDocument\",law:\"/page/detailLaw/detailLaw\"};(0,n.Page)({data:{mediateCase:{title:\"\",keyword:[]},protocol:{title:\"\",keyword:[]},judgement:{title:\"\",keyword:[]},lawArr:[],id:\"\",docDetail:{smallClass:\"\",title:\"\",trialDate:\"\",caseId:\"\",courtName:\"\",keyword:[],collectFlag:0,likeFlag:0,caseContent:\"\",trialReason:\"\",trialResult:\"\"},caseContentFlag:!1,trialReasonFlag:!1,trialResultFlag:!1},onLoad:function(t){dd.showLoading({content:\"\\u52a0\\u8f7d\\u4e2d\"}),this.setData({id:t.id}),this.getDetail(t.id),this.getRecommendList(t.id)},getDetail:function(t){var e=this;i(t).then(function(t){if(console.log(t),1===t.data.code){var a=!1,n=!1,o=!1,i=t.data.data,s=i.title,l=i.smallClass,c=i.smallClassId,r=i.collectFlag,d=i.likeFlag,u=i.trialDate,g=i.caseId,h=i.keyword,p=i.courtName,f=i.caseContent,m=i.trialReason,y=i.trialResult;p=e.changeNull(p),h=e.changeLine(h),f.length>99&&(a=!0),m.length>99&&(n=!0),y.length>99&&(o=!0),f=e.changeNull(f),m=e.changeNull(m),y=e.changeNull(y),f=e.changeEnter(f),m=e.changeEnter(m),y=e.changeEnter(y),e.setData({docDetail:{smallClassId:c,smallClass:l,title:s,trialDate:u,caseId:g,courtName:p,keyword:h,collectFlag:r,likeFlag:d,caseContent:f,trialReason:m,trialResult:y},caseContentFlag:a,trialReasonFlag:n,trialResultFlag:o})}else dd.showToast({type:\"fail\",content:\"\\u7cfb\\u7edf\\u9519\\u8bef\",duration:3e3});dd.hideLoading()}).catch(function(t){console.log(t)})},getRecommendList:function(t){var e=this;s({id:t,detailType:\"judgement\"}).then(function(t){console.log(t);var a=t.data.data;t.data.data.law.map(function(t){t.content=e.changeEnter(t.content),t.show=!1}),a.mediateCase[0].keyword=e.changeLine(a.mediateCase[0].keyword),a.protocol[0].keyword=e.changeLine(a.protocol[0].keyword),a.judgement[0].keyword=e.changeLine(a.judgement[0].keyword),e.setData({mediateCase:a.mediateCase[0],protocol:a.protocol[0],judgement:a.judgement[0],lawArr:a.law})})},changeNull:function(t){return t||\"\\u6682\\u65e0\\u4fe1\\u606f\"},changeEnter:function(t){return t.split(\"\\\\n\")},changeLine:function(t){return t.split(\"|\")},showAll:function(t){var e=t.target.dataset.val;\"caseContentFlag\"===e?this.setData({caseContentFlag:!1}):\"trialReasonFlag\"===e?this.setData({trialReasonFlag:!1}):\"trialResultFlag\"===e&&this.setData({trialResultFlag:!1})},showLaw:function(t){var e=this.data.lawArr,a=0;e.map(function(t){return{id:t.id}}).forEach(function(e,n){e.id===t.target.dataset.id&&(a=n)}),e[a].show=!e[a].show,this.setData({lawArr:e})},goDetail:function(t){console.log(t),dd.navigateTo({url:c[t.target.dataset.types]+\"?id=\"+t.target.dataset.ids})},collect:function(t){console.log(t);var e=this,a=e.data.docDetail,n=[{id:this.data.id,isuse:t.target.dataset.val,subtype:this.data.docDetail.smallClassId,title:this.data.docDetail.title,detailType:\"judgement\"}];l(n).then(function(n){console.log(n),1===n.data.code?\"Y\"===t.target.dataset.val?(a.likeFlag=1,e.setData({docDetail:a})):(a.collectFlag=1,e.setData({docDetail:a})):6===n.data.code&&(\"Y\"===t.target.dataset.val?(a.likeFlag=0,e.setData({docDetail:a})):(a.collectFlag=0,e.setData({docDetail:a})))})}})},function(t,e,a){\"use strict\";var n=a(0);n.bridge,n.bridge;n.$global.currentPageConfig={pagePath:\"page/detailLaw/detailLaw\",usingComponents:{personal:\"/components/personal/personal\"}};(0,n.getApp)();var o=a(1),i=o.law,s=o.collection;(0,n.Page)({data:{id:\"\",toView:\"\",lawList:[],title:\"\",timeLiness:\"\",publisher:\"\",enforceDate:\"\",collectFlag:0,likeFlag:0,levelEffective:\"\"},onLoad:function(t){var e=t.id,a=this;i(e).then(function(t){if(console.log(t),1===t.data.code){var n=t.data.data,o=n.lawContent.map(function(t){return t.value=t.value.map(function(t){return t.content=t.content.split(\"\\\\n\"),t}),t});console.log(o),a.setData({id:e,title:n.lawName,timeLiness:n.timeLiness,publisher:n.publisher,enforceDate:n.enforceDate,toView:e,lawList:o,collectFlag:n.collectFlag,likeFlag:n.likeFlag,levelEffective:n.levelEffective})}}).catch(function(t){console.log(t)})},collect:function(t){console.log(t);var e=this,a=[{id:this.data.id,isuse:t.target.dataset.val,subtype:this.data.levelEffective,title:this.data.title,detailType:\"law\"}];s(a).then(function(a){console.log(a),1===a.data.code?\"Y\"===t.target.dataset.val?e.setData({likeFlag:1}):e.setData({collectFlag:1}):6===a.data.code&&(\"Y\"===t.target.dataset.val?e.setData({likeFlag:0}):e.setData({collectFlag:0}))})}})},function(t,e,a){\"use strict\";var n=a(0);n.bridge,n.bridge;n.$global.currentPageConfig={pagePath:\"page/searchList/searchList\",usingComponents:{personal:\"/components/personal/personal\"}};(0,n.getApp)();var o=a(1).list,i={mediateCase:\"/page/detailCase/detailCase\",protocol:\"/page/detailProtocol/detailProtocol\",judgement:\"/page/detailDocument/detailDocument\",law:\"/page/detailLaw/detailLaw\"};(0,n.Page)({data:{query:\"\",queryType:\"\",pageSize:10,currentPage:1,sortFlag:\"_score\",searchList:[],count:0,requestLoading:!1,requestLoadingComplete:!1},onLoad:function(t){console.log(t);this.setData({query:t.query,queryType:t.queryType}),this.getList()},getList:function(){var t=this;return new Promise(function(e,a){o({query:t.data.query,queryType:t.data.queryType,pageSize:t.data.pageSize,currentPage:t.data.currentPage,sortFlag:t.data.sortFlag}).then(function(a){var n=t.data.searchList.concat(a.data.data.result);n=n.map(function(t){return t.content=t.content.split(\"\\\\n\").join(\" \"),t}),1===a.data.code&&t.setData({searchList:n,count:a.data.data.count}),e(a)}).catch(function(t){a(t)})})},getMore:function(){var t=this;console.log(\"\\u5df2\\u7ecf\\u5230\\u5e95\\u4e86\"),this.setData({currentPage:this.data.currentPage+1,requestLoading:!0}),this.getList().then(function(e){0!==e.data.data.result.length?t.setData({requestLoading:!1}):t.setData({requestLoading:!1,requestLoadingComplete:!0})})},changeTypes:function(t){var e=t.target.dataset.val;e!==this.data.queryType&&(this.setData({queryType:e,pageSize:10,currentPage:1,sortFlag:\"_score\",searchList:[],requestLoading:!1,requestLoadingComplete:!1}),this.getList())},goSearch:function(t){this.setData({query:t.detail.value,pageSize:10,currentPage:1,sortFlag:\"_score\",searchList:[],requestLoading:!1,requestLoadingComplete:!1}),this.getList()},changeQuery:function(t){this.setData({query:t.detail.value})},goSearch2:function(){this.setData({pageSize:10,currentPage:1,sortFlag:\"_score\",searchList:[],requestLoading:!1,requestLoadingComplete:!1}),this.getList()},goDetail:function(t){dd.navigateTo({url:i[this.data.queryType]+\"?id=\"+t.target.dataset.ids})},changeSort:function(t){this.data.sortFlag!==t.target.dataset.val&&(this.setData({sortFlag:t.target.dataset.val,requestLoading:!1,requestLoadingComplete:!1,searchList:[]}),this.getList())}})},function(t,e,a){\"use strict\";var n=a(0);n.bridge,n.bridge;n.$global.currentPageConfig={pagePath:\"page/search/search\",usingComponents:{personal:\"/components/personal/personal\"}};(0,n.getApp)();var o=a(1),i=o.tipsCN,s=o.tipsEN,l=o.searchHotWord;(0,n.Page)({data:{searchVal:\"\",keywordArr:[],tipsArr:[],showTip:!0,searchType:\"mediateCase\",searchHistory:[]},onLoad:function(){this.init()},init:function(){var t=this;l().then(function(e){t.setData({keywordArr:e.data.data})}).catch(function(t){console.log(t)}),dd.getStorage({key:\"search\",success:function(e){console.log(e),t.setData({searchHistory:e.data?e.data:[]})},fail:function(t){console.log(t)}})},goSearch:function(t){var e=this.data.searchHistory;t.target.dataset.val&&\"\"!==t.target.dataset.val?(-1===e.indexOf(t.target.dataset.val)&&(e.push(t.target.dataset.val),dd.setStorageSync({key:\"search\",data:e})),dd.navigateTo({url:\"/page/searchList/searchList?query=\"+t.target.dataset.val+\"&queryType=\"+this.data.searchType})):\"\"!==this.data.searchVal&&(-1===e.indexOf(this.data.searchVal)&&(e.push(this.data.searchVal),dd.setStorageSync({key:\"search\",data:e})),dd.navigateTo({url:\"/page/searchList/searchList?query=\"+this.data.searchVal+\"&queryType=\"+this.data.searchType}))},querySearch:function(t){var e=this,a=t.detail.value,n=this.ifCN(a);this.setData({searchVal:a}),n?i(n).then(function(t){1===t.data.code&&e.setData({tipsArr:t.data.data,showTip:!0})}):s(a).then(function(t){1===t.data.code&&e.setData({tipsArr:t.data.data,showTip:!0})})},getSearchType:function(t){this.setData({searchType:t.target.dataset.val})},hide:function(){this.setData({showTip:!1})},ifCN:function(t){if(\"\"===t||/^\\s*$/gi.test(t))return\"\";var e=t.match(/[\\u4e00-\\u9fa5]*/g);return!!e&&e.join(\"\")},clearHistory:function(){var t=this;dd.removeStorage({key:\"search\",success:function(){t.setData({searchHistory:[]}),dd.alert({content:\"\\u5220\\u9664\\u6210\\u529f\"})}})},delete:function(t){var e=t.target.dataset.val,a=this.data.searchHistory,n=a.indexOf(e);a.splice(n,1),dd.setStorageSync({key:\"search\",data:a}),this.setData({searchHistory:a})}})},function(t,e,a){\"use strict\";var n=a(0);n.bridge,n.bridge;n.$global.currentPageConfig={pagePath:\"page/collection/collection\",usingComponents:{}};(0,n.getApp)();var o=a(1),i=o.collectionList,s=o.collection;(0,n.Page)({data:{flag:!0,collectionJson:{caseList:[],judgementList:[],lawList:[],protocolList:[]},collectionArr:[],types:\"caseList\",checkallFlag:!1},onLoad:function(){var t=this;i().then(function(e){if(console.log(e),1===e.data.code){var a=e.data.data;a.caseList.map(function(t){return t.check=!1,t}),a.judgementList.map(function(t){return t.check=!1,t}),a.lawList.map(function(t){return t.check=!1,t}),a.protocolList.map(function(t){return t.check=!1,t}),t.setData({collectionJson:{caseList:a.caseList,judgementList:a.judgementList,lawList:a.lawList,protocolList:a.protocolList},collectionArr:a.caseList})}else dd.showToast({type:\"fail\",content:\"\\u83b7\\u53d6\\u6536\\u85cf\\u5217\\u8868\\u5931\\u8d25\",duration:3e3})})},changeTypes:function(t){var e=t.target.dataset.val;console.log(this.data.collectionJson),this.setData({types:e,collectionArr:this.data.collectionJson[e],checkallFlag:!1})},check:function(t){var e=t.target.dataset,a=this.data.collectionArr,n=this.checkId(a,\"ajid\",e.id);a[n].check=!a[n].check,this.setData({collectionArr:a,checkallFlag:!1})},checkAll:function(){var t=this.data.collectionArr;!1===this.data.checkallFlag?(t=t.map(function(t){return t.check=!0,t}),this.setData({collectionArr:t,checkallFlag:!0})):(t=t.map(function(t){return t.check=!1,t}),this.setData({collectionArr:t,checkallFlag:!1}))},checkId:function(t,e,a){var n=-1;return t.forEach(function(t,o){if(t[e]===a)return n=o}),n},showOpration:function(){if(console.log(this.flag),this.data.flag){var t=dd.createAnimation({duration:400,timingFunction:\"ease-in-out\"});t.translate(0,0).step(),this.setData({animationInfo:t.export(),flag:!1})}else{var e=dd.createAnimation({duration:400,timingFunction:\"ease-in-out\"});e.translate(\"-68rpx\",0).step(),this.setData({animationInfo:e.export(),flag:!0})}},deleteColct:function(){console.log(this.data.collectionJson);var t=this.data.collectionJson,e=[];t.caseList.forEach(function(t){t.check&&e.push({id:t.ajid,isuse:\"N\",subtype:t.subtype,title:t.title,detailType:\"mediateCase\"})}),t.protocolList.forEach(function(t){t.check&&e.push({id:t.ajid,isuse:\"N\",subtype:t.subtype,title:t.title,detailType:\"protocol\"})}),t.judgementList.forEach(function(t){t.check&&e.push({id:t.ajid,isuse:\"N\",subtype:t.subtype,title:t.title,detailType:\"judgement\"})}),t.lawList.forEach(function(t){t.check&&e.push({id:t.ajid,isuse:\"N\",subtype:t.subtype,title:t.title,detailType:\"law\"})}),s(e).then(function(t){dd.redirectTo({url:\"/page/collection/collection\"})})}})}]);","extractedComments":[]}